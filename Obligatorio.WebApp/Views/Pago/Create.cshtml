@model AltaPagoVM

@{
    ViewData["Title"] = "Registrar Pago";
}

<div class="pago-container">

    <h2 class="pago-title text-center">Registrar Pago</h2>

    @if (ViewBag.Success != null)
    {
        <div class="alert alert-success text-center fw-bold">@ViewBag.Success</div>
    }

    @if (ViewBag.Error != null)
    {
        <div class="alert alert-danger text-center fw-bold">@ViewBag.Error</div>
    }

    <form asp-action="Create" method="post" id="formAlta" class="pago-card">

        <!-- TIPO DE PAGO -->
        <div class="mb-3">
            <label class="form-label" for="Dto_TipoPago">Tipo de Pago</label>
            <select asp-for="Dto.TipoPago" class="form-select pago-input" id="Dto_TipoPago" aria-label="Tipo de pago">
                <option value="">Seleccione tipo...</option>
                <option value="UNICO">ÚNICO</option>
                <option value="RECURRENTE">RECURRENTE</option>
            </select>
            <span asp-validation-for="Dto.TipoPago" class="text-danger"></span>
        </div>

        <div class="row">

            <!-- GASTO -->
            <div class="col-md-6 mb-3">
                <label for="Dto_IdGasto" class="form-label">Gasto</label>
                <select asp-for="Dto.IdGasto" class="form-select pago-input" aria-label="Seleccionar gasto">
                    <option value="">Seleccione un gasto...</option>
                    @foreach (var gasto in Model.TodosLosGastos)
                    {
                        <option value="@gasto.Id">@gasto.Nombre</option>
                    }
                </select>
                <span asp-validation-for="Dto.IdGasto" class="text-danger"></span>
            </div>

            <!-- MÉTODO DE PAGO -->
            <div class="col-md-6 mb-3">
                <label for="Dto_MetodoPago" class="form-label">Método de Pago</label>
                <select asp-for="Dto.MetodoPago" class="form-select pago-input" aria-label="Seleccionar método de pago">
                    <option value="">Seleccione método...</option>
                    @foreach (var metodo in Model.TodosLosMetodosDePago)
                    {
                        <option value="@metodo.Nombre">@metodo.Nombre</option>
                    }
                </select>
                <span asp-validation-for="Dto.MetodoPago" class="text-danger"></span>
            </div>

        </div>

        <!-- DESCRIPCIÓN -->
        <div class="mb-3">
            <label for="Dto_Descripcion" class="form-label">Descripción</label>
            <input asp-for="Dto.Descripcion" class="form-control pago-input" id="Dto_Descripcion" aria-label="Descripción del pago" />
            <span asp-validation-for="Dto.Descripcion" class="text-danger"></span>
        </div>

        <div class="row">

            <!-- MONTO -->
            <div class="col-md-6 mb-3">
                <label for="Dto_Monto" class="form-label">Monto</label>
                <input asp-for="Dto.Monto" class="form-control pago-input" id="Dto_Monto" type="number" step="0.01" min="0" aria-label="Monto del pago" />
                <span asp-validation-for="Dto.Monto" class="text-danger"></span>
            </div>

            <!-- FECHA INICIO -->
            <div class="col-md-6 mb-3">
                <label for="Dto_FechaInicio" class="form-label">Fecha Inicio</label>
                <input asp-for="Dto.FechaInicio" class="form-control pago-input" id="Dto_FechaInicio" type="date" aria-label="Fecha de inicio" />
                <span asp-validation-for="Dto.FechaInicio" class="text-danger"></span>
            </div>

            <!-- FECHA FIN (solo para recurrentes) -->
            <div class="mb-3" id="opcionesRecurrente" style="display:none;">
                <label for="Dto_FechaFin" class="form-label">Fecha Fin</label>
                <input asp-for="Dto.FechaFin" class="form-control pago-input" id="Dto_FechaFin" type="date" aria-label="Fecha de fin" />
                <span asp-validation-for="Dto.FechaFin" class="text-danger"></span>
            </div>


        <button type="submit" class="btn pago-btn w-100 mt-3">Registrar Pago</button>

    </form>
</div>

<script src="~/js/Pago/AltaPago.js"></script>
